<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boda JOSE & VIOLETA</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;700&family=Dancing+Script:wght@400;700&family=Cinzel:wght@400;700&family=Great+Vibes&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <div id="welcome-gate">
        <h1 class="initials-gate">J & V</h1>
        <p class="names-gate">José y Violeta</p>
        <p class="date-gate">25 de Octubre de 2025</p>
        <button id="start-button" class="fancy-button start-button-gate">
            <i class="fas fa-heart"></i> Abrir Invitación
        </button>
    </div>

    <audio id="background-music" src="wedding_song.mp3" loop></audio>

    <nav class="initials-header">
        <p>J & V</p>
    </nav>

    <header class="hero-section">
        <div class="hero-content">
            <p class="intro-title script-font-large">¡Nos Casamos!</p>
            <h1 class="couple-name">JOSE</h1>
            <p class="and-text script-font-large">y</p>
            <h1 class="couple-name">VIOLETA</h1>
            
            <div class="music-auto-note">
                <p>Únete a este momento especial</p>
            </div>
        </div>
    </header>

    <section id="bienvenida" class="content-section welcome-section">
        <div class="image-frame-new">
            <img src="historia_3.jpg" alt="Manos formando un corazón" class="welcome-image framed-image-new"> 
        </div>
        <div class="welcome-text">
            <p class="initials-elegant">J & V</p> 
            <p>Con mucha ilusión queremos vivir este momento rodeados de personas que han formado parte de nuestra historia. Será un honor contar con tu presencia.</p>
            <p class="welcome-closing bold-green-text">¡Te Esperamos!</p>
        </div>
    </section>
    
    <section id="fecha" class="content-section date-section">
        <h2 class="section-title script-font-title">Tenemos el agrado de invitarlos a <br>Nuestra Boda</h2>
        
        <div class="date-display-new">
            <div class="date-item">
                <p>SÁBADO</p>
                <div class="underline"></div>
            </div>
            <div class="date-item">
                <p class="day-number">25</p>
            </div>
            <div class="date-item">
                <p>2025</p>
                <div class="underline"></div>
            </div>
        </div>
        <p class="month-new">OCTUBRE</p>

        <a id="calendar-link" href="#" target="_blank" class="calendar-button fancy-button calendar-style-button green-icon-button">
            <i class="fas fa-calendar-alt"></i> Agendar fecha
        </a>

        <p class="section-subtitle">Faltan...</p>
        <div id="countdown" class="countdown-timer large-countdown-timer">
            <div><span id="days">00</span> DÍAS</div>
            <div><span id="hours">00</span> HORAS</div>
            <div><span id="minutes">00</span> MINUTOS</div>
            <div><span id="seconds">00</span> SEGUNDOS</div>
        </div>
    </section>

    <section id="padres" class="content-section parents-section">
        <p class="parents-intro">CON LA BENDICIÓN DE DIOS Y NUESTROS QUERIDOS PADRES</p>
        <div class="parents-container">
            <div class="parent-group">
                <p class="group-title-new">• PADRES del Novio •</p>
                <p>José Rufino López Ñiquen</p>
                <p>María Mercedes Llumpo Llumpo</p>
            </div>
            <div class="parent-group">
                <p class="group-title-new">• PADRES de la Novia •</p>
                <p>Santos Céspedes Bernilla</p>
                <p>Jerónimo Pérez Coronel</p>
            </div>
        </div>
        
        <p class="godparents-intro-custom">Y EN COMPAÑIA DE NUESTROS PADRINOS DE MATRIMONIO</p>
        <div class="godparents-list">
            <p>César Augusto Pérez Céspedes</p>
            <p>María del Socorro Pérez Céspedes</p>
        </div>
        
        <p class="godparents-intro-custom" style="margin-top: 30px;">Y TESTIGOS DE MATRIMONIO</p>
        <div class="godparents-list">
            <p>Karina Pérez Céspedes</p>
            <p>Maribel Mayanga Seclen</p>
        </div>
    </section>

    <section id="eventos" class="content-section events-section">
        <h2 class="section-title">Ceremonia y Recepción</h2>
        <div class="event-details single-event">
            <div class="event-card">
                <img src="icon_casa.png" alt="Icono de Ubicación" class="event-icon colored-icon"> 
                <h3 class="script-font-small">Todo en el Mismo Lugar</h3>
                <p class="location-name">Recepción en Casa de los Novios</p>
                <p class="time">7:00 PM</p>
                <p class="address">Calle Diego Ferre #925, Ciudad Eten</p>
                <a href="https://maps.app.goo.gl/264h5KmUruHVQMKS6" target="_blank" class="map-link-button fancy-button green-icon-button"><i class="fas fa-map-marker-alt"></i> Ver mapa</a>
            </div>
        </div>
    </section>

    <section id="vestimenta" class="content-section dress-code-section">
        <div class="image-frame-new">
            <img src="vestido_espalda.jpg" alt="Detalle de vestido de novia" class="dress-code-image framed-image-new">
        </div>
        <h2 class="section-title">Dress Code</h2>
        <p class="dress-code-note">SE RECOMIENDA NO USAR COLOR VERDE NI BLANCO</p>
    </section>

    <section id="frase-biblica" class="content-section quote-section">
        <div class="image-frame-new">
            <img src="sillas_decoradas.jpg" alt="Sillas en una ceremonia al aire libre" class="quote-image framed-image-new">
        </div>
        <p class="quote-text">El amor nunca se da por vencido, jamás pierde la fe, siempre tiene esperanzas y se mantiene firme en toda circunstancia.</p>
        <p class="bible-ref-new">1 Corintios 13:7</p>
    </section>

    <section id="deseos" class="content-section wishes-section">
        <i class="icon heart-box-icon">♥</i>
        <h2 class="section-title">Buzón de deseos</h2>
        <p>Nos encantaría leer tus buenos deseos. ¡Déjanos un mensaje que recordaremos por siempre!</p>
        
        <a id="wishes-link" href="https://docs.google.com/forms/d/e/1FAIpQLSdDLZwZfbsIVLXEvHNbpd2qjJOA0ukIMmzHw0j116oqbG2FGQ/viewform?usp=sharing&ouid=112484745039533512538" target="_blank" class="wishes-button fancy-button green-icon-button">
            <i class="fas fa-envelope-open-text"></i> Clic aquí
        </a>
    </section>

    <section id="frase-final" class="content-section final-quote-section">
        <div class="image-frame-new">
            <img src="anillos_sobre_flor.jpg" alt="Anillos de boda sobre una flor" class="quote-image framed-image-new">
        </div>
        <p class="quote-text">"El amor nos ha llevado a este momento mágico. Los invitamos a ser testigos de nuestra promesa de amor eterno."</p>
    </section>
    
    <section class="final-cta-section" id="final-cta">
        <h2 class="section-title large-text-final">¡Los esperamos, sean puntuales!</h2>
        <img src="final_image.jpg" alt="Imagen de despedida o cierre" class="final-cta-image"> 
    </section>

    <footer>
        <p>JOSÉ & VIOLETA</p>
    </footer>

    <svg width="0" height="0" style="position:absolute;">
        <defs>
            <clipPath id="torn-paper-clip" clipPathUnits="objectBoundingBox">
                <path d="M0.016,0.019 C0.054,-0.002,0.117,-0.007,0.187,0.015 C0.276,0.043,0.377,0.081,0.472,0.095 C0.567,0.109,0.665,0.092,0.748,0.065 C0.831,0.038,0.893,0.012,0.957,0.004 C0.978,0.001,1,0.006,1,0.024 L1,0.976 C1,0.994,0.978,0.999,0.957,0.996 C0.893,0.988,0.831,0.962,0.748,0.935 C0.665,0.908,0.567,0.891,0.472,0.905 C0.377,0.919,0.276,0.957,0.187,0.985 C0.117,1.007,0.054,1.002,0.016,0.981 C0.005,0.975,0,0.973,0,0.976 L0,0.024 C0,0.006,0.005,0.001,0.016,0.019 Z" />
            </clipPath>
        </defs>
    </svg>

    <script>
        // DATOS DE LA BODA
        const WEDDING_DATE = "October 25, 2025 19:00:00"; 
        const EVENT_TITLE = "Boda José y Violeta";
        const EVENT_DETAILS = "Ceremonia y Recepción de José y Violeta. ¡Los esperamos en Casa de los Novios!";
        const EVENT_LOCATION = "Calle Diego Ferre #925, Ciudad Eten"; 

        // Referencia al audio
        const audio = document.getElementById('background-music');
        const welcomeGate = document.getElementById('welcome-gate');
        const startButton = document.getElementById('start-button');
        
        // --- FUNCIÓN DE INICIO DE LA INVITACIÓN ---
        const startInvitation = () => {
            // 1. Reproducir la música (activada por la interacción del usuario)
            audio.play().catch(error => {
                console.warn("La reproducción de música falló, es común en iOS/navegadores estrictos.");
            });

            // 2. Ocultar la pantalla de inicio
            welcomeGate.style.opacity = '0';
            setTimeout(() => {
                welcomeGate.style.display = 'none';
                // 3. Iniciar el auto-scroll
                startAutoScroll(); 
            }, 500); // 0.5s para la transición de opacidad
        };

        // Escucha el clic en el botón de inicio
        startButton.addEventListener('click', startInvitation, { once: true });


        // 1. Contador de Tiempo
        const weddingTime = new Date(WEDDING_DATE).getTime();
        const countdownElement = document.getElementById("countdown");

        const x = setInterval(function() {
            const now = new Date().getTime();
            const distance = weddingTime - now;

            if (distance < 0) {
                clearInterval(x);
                countdownElement.innerHTML = "¡El gran día ha llegado!";
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById("days").innerHTML = String(days).padStart(2, '0');
            document.getElementById("hours").innerHTML = String(hours).padStart(2, '0');
            document.getElementById("minutes").innerHTML = String(minutes).padStart(2, '0');
            document.getElementById("seconds").innerHTML = String(seconds).padStart(2, '0');
        }, 1000);
        
        // 2. Función para crear el enlace de Calendario
        document.addEventListener('DOMContentLoaded', () => {
            const date = new Date(WEDDING_DATE);
            
            const formatDateForCalendar = (d) => d.toISOString().replace(/-|:|\.\d{3}/g, "").slice(0, -4); 
            
            const formattedDate = formatDateForCalendar(date); 
            const endDateTime = new Date(date.getTime() + (3 * 60 * 60 * 1000));
            const formattedEndDate = formatDateForCalendar(endDateTime);

            const calendarLink = `https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(EVENT_TITLE)}&dates=${formattedDate}/${formattedEndDate}&details=${encodeURIComponent(EVENT_DETAILS)}&location=${encodeURIComponent(EVENT_LOCATION)}`;
            
            document.getElementById('calendar-link').href = calendarLink;
        });

        // 3. Implementación del desplazamiento automático (Auto-Scroll)

        const scrollSections = [
            document.querySelector('.hero-section'), 
            document.getElementById('bienvenida'),    
            document.getElementById('fecha'),         
            document.getElementById('padres'),        
            document.getElementById('eventos'),       
            document.getElementById('vestimenta'),    
            document.getElementById('frase-biblica'), 
            document.getElementById('deseos'),        
            document.getElementById('frase-final'),   
            document.getElementById('final-cta')      
        ];

        let currentSectionIndex = 0;
        let autoScrollInterval;

        function scrollToNextSection() {
            currentSectionIndex = (currentSectionIndex + 1) % scrollSections.length;
            
            const nextSection = scrollSections[currentSectionIndex];

            if (nextSection) {
                nextSection.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }

        function startAutoScroll() {
             // Configurar el intervalo para el desplazamiento cada 5 segundos (5000ms)
            autoScrollInterval = setInterval(scrollToNextSection, 5000);
        }
        
        // Detener el scroll si el usuario interactúa
        let userInteracted = false;
        const interactionEvents = ['wheel', 'touchstart', 'keydown'];

        const stopAutoScroll = () => {
            if (!userInteracted) {
                clearInterval(autoScrollInterval);
                userInteracted = true; 
                
                interactionEvents.forEach(event => {
                    window.removeEventListener(event, stopAutoScroll);
                });
            }
        };

        interactionEvents.forEach(event => {
            window.addEventListener(event, stopAutoScroll, { once: true });
        });
    </script>
</body>
</html>